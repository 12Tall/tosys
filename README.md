# tosys
A toy rk4 ODE solver, inspired by State-space equation. ğŸ­  
åŸºäºçŠ¶æ€ç©ºé—´æ–¹ç¨‹å’Œå››é˜¶é¾™æ ¼-åº“å¡”çš„å¾®åˆ†æ–¹ç¨‹æ•°å€¼è§£æ³•ã€‚éœ€è¦æ‰‹åŠ¨æ„é€ å¾®åˆ†æ–¹ç¨‹ï¼ˆç»„ï¼‰ã€‚  

## InputSignal  
è¾“å…¥ä¿¡å·å·²åŒ…å«ï¼š  
- `constant`: å¸¸æ•°ä¿¡å·`f(t) = 1`
- `sin`: æ­£å¼¦ä¿¡å·`f(t) = A*sin(omega*t+phi)`
- `dirac`: å•ä½å†²æ¿€å‡½æ•°`f(t) = delta(t)`
- `delay`: å»¶æ—¶å‡½æ•°`f(t) = g(t-t0)`
- `diff`:  å¾®åˆ†å‡½æ•°`f(t) = g'(t)`
- `int`: ç§¯åˆ†å‡½æ•°` f(t) = H(t)`
- `squre`: æ–¹æ³¢ä¿¡å·


## Example  

```Python
from tosys import State, System, InputSignal
"""
æ¨¡æ‹Ÿç”µå®¹å……æ”¾ç”µçš„è¿‡ç¨‹    
"""

R = 15  # Ohm
L = 0.1  # H
C = 0.1  # F
ui = 1    # v

square = InputSignal.squre(5)  # è¾“å…¥æ–¹æ³¢ä¿¡å·
sys = System(0, 20, .001, input=lambda t: square(t))  # å»ºç«‹ç³»ç»Ÿ

"""
çŠ¶æ€æ–¹ç¨‹çš„å½¢å¼ï¼š
    u0' = ui - u0/R/C  
æ–¹ç¨‹å³è¾¹å¯¹åº”çš„ä»£ç ï¼š
    lambda t, state: (ui*sys.input(t)-state['u0'])/R/C)
"""
sys.addState(State("u0", 0, lambda t, state: (ui*sys.input(t)-state['u0'])/R/C))

sys.RK4()  # æ±‚è§£
sys.draw() # ç”»å›¾
```  

![](img/exp_01.png)  


å› ä¸ºä»£ç ä¸­ä½¿ç”¨äº†å¤§é‡çš„å¾ªç¯è¯­å¥ï¼Œæ‰€ä»¥æ•ˆç‡ä¸ç®—å¤ªé«˜ã€‚ä½†æ˜¯è®¡ç®—èƒ½åŠ›è¿˜ç®—å¼ºå¤§ï¼šå¯ä»¥æ±‚å¸¸è§çš„å¾®åˆ†æ–¹ç¨‹ï¼ˆç»„ï¼‰çš„è§£ï¼Œä¹Ÿå¯ç”¨äºè®¡ç®—æ§åˆ¶ç³»ç»Ÿå„çŠ¶æ€å˜é‡çš„æ—¶åŸŸå˜åŒ–æƒ…å†µã€‚  

-----  
åé¢å¯èƒ½ä¼šå†å®Œå–„ï¼Œç›®å‰è¦ç»§ç»­å•ƒç¼–è¯‘åŸç†äº†ã€‚   
ğŸ“…2022-06-21